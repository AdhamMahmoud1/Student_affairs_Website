{% extends 'main.html' %}


{% load static %}

{% block style %}
  <link rel="stylesheet" href={% static "styles/home.css" %}>
{% endblock style %}

{% block title %}Home{% endblock %} 




{% block content %}

        
 

        


<!-- main section-->
<section class="main">
    <div class="welcoming">
        <h1>Students Affairs Website</h1><br>
        <p>The College of Computer Science and Artificial Intelligence strives to be a leading educational and research institution in the field of computing and community development in light of international quality standards.</p>
        <a href="#search-section" class="main-button">Manage Students</a> 
    </div>

    <!-- Register -->
    <div class="register">
        <p> Don't have an account?</p>
        <div class="registeration-button">
            <a href="#"> Sign up</a>     
        </div>
    </div>
</section>



<!-- search for student by name seaction -->
<section id="search-section">
    <h2 class="title">search a student by name</h2>
    
    <div class="searching-box">
        <form id = "form">
            <input name = "student_name" type="text"  placeholder="which student are you looking for?" class="student_name"> 
            <button type="submit"><i class="fas fa-search"></i></button>
        </form>
    </div>
</section>


<!-- Footer -->
<footer>
    <h4 id="rights">Copyright Â© 2023 Faculty of Computers and Artificial Intelligence</p>
</footer>


<!-- script files -->
<script>

  let form = document.querySelector("#form");

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    let search_input = document.querySelector(".student_name").value;

// Get the current URL
  console.log(window.location.href)
  var url = new URL(window.location.href + "students");

  // Create a new URLSearchParams object based on the current URL's search params
  var searchParams = new URLSearchParams(url.search);

  // Add a new search parameter
  searchParams.set('name', search_input);

  // Update the URL's search property with the updated search params
  url.search = searchParams.toString();

  // Get the modified URL
  var modifiedUrl = url.toString();


    
    window.location.href = modifiedUrl;
  })

</script>


{% endblock content %}